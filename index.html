<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iFinder - Encontre Seu Imóvel Ideal | WB Negócios</title>
    <meta name="description" content="iFinder - A forma mais inteligente de encontrar seu imóvel ideal. Sistema de matching avançado para compra, venda e locação de imóveis.">
    <meta name="keywords" content="imóveis, casas, apartamentos, venda, locação, WB Negócios, iFinder">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iOCIgZmlsbD0iIzAwMjE0RCIvPgo8cGF0aCBkPSJNOCAxMkwxNiA2TDI0IDEyVjI0SDE4VjE4SDEwVjI0SDhWMTJaIiBmaWxsPSIjREFBNTIwIi8+Cjwvc3ZnPgo=">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --wb-blue: #00214D;
            --wb-gold: #DAA520;
            --wb-light-blue: #E8F4FD;
            --wb-dark-blue: #001A3D;
            --text-primary: #2D3748;
            --text-secondary: #718096;
            --bg-light: #F7FAFC;
            --border-color: #E2E8F0;
            --success: #48BB78;
            --error: #F56565;
            --warning: #ED8936;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --border-radius: 12px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: linear-gradient(135deg, var(--bg-light) 0%, #ffffff 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Landing Page Styles */
        .landing-page {
            min-height: 100vh;
            background: linear-gradient(135deg, var(--wb-blue) 0%, var(--wb-dark-blue) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .landing-page::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(218,165,32,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
        }

        .landing-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .logo-container {
            margin-bottom: 3rem;
            animation: fadeInUp 1s ease-out;
        }

        .logo {
            width: 120px;
            height: 120px;
            margin: 0 auto 1rem;
            background: var(--wb-gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-lg);
        }

        .logo i {
            font-size: 3rem;
            color: var(--wb-blue);
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 1rem;
            line-height: 1.2;
            animation: fadeInUp 1s ease-out 0.2s both;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 3rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            animation: fadeInUp 1s ease-out 0.4s both;
        }

        .cta-button {
            background: linear-gradient(135deg, var(--wb-gold) 0%, #B8860B 100%);
            color: var(--wb-blue);
            padding: 1rem 3rem;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow-lg);
            animation: fadeInUp 1s ease-out 0.6s both;
            text-decoration: none;
            display: inline-block;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 4rem;
            animation: fadeInUp 1s ease-out 0.8s both;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--border-radius);
            padding: 2rem;
            text-align: center;
            transition: var(--transition);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }

        .feature-icon {
            font-size: 2.5rem;
            color: var(--wb-gold);
            margin-bottom: 1rem;
        }

        .feature-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: white;
            margin-bottom: 0.5rem;
        }

        .feature-description {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
        }

        /* Auth Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            animation: fadeIn 0.3s ease-out;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            width: 90%;
            max-width: 450px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            animation: slideInUp 0.3s ease-out;
        }

        .modal-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .modal-title {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--wb-blue);
            margin-bottom: 0.5rem;
        }

        .modal-subtitle {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .form-input {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
            background: white;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--wb-blue);
            box-shadow: 0 0 0 3px rgba(0, 33, 77, 0.1);
        }

        .form-select {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 1rem;
            background: white;
            cursor: pointer;
            transition: var(--transition);
        }

        .form-select:focus {
            outline: none;
            border-color: var(--wb-blue);
            box-shadow: 0 0 0 3px rgba(0, 33, 77, 0.1);
        }

        .btn-primary {
            width: 100%;
            background: linear-gradient(135deg, var(--wb-blue) 0%, var(--wb-dark-blue) 100%);
            color: white;
            padding: 1rem;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 1rem;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: var(--shadow-lg);
        }

        .btn-secondary {
            width: 100%;
            background: transparent;
            color: var(--wb-blue);
            padding: 1rem;
            border: 2px solid var(--wb-blue);
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .btn-secondary:hover {
            background: var(--wb-blue);
            color: white;
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition);
        }

        .close-modal:hover {
            color: var(--text-primary);
        }

        /* App Container Styles */
        .app-container {
            display: none;
            min-height: 100vh;
            background: var(--bg-light);
        }

        .app-container.active {
            display: block;
        }

        /* Header Styles */
        .app-header {
            background: white;
            border-bottom: 1px solid var(--border-color);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .header-logo-icon {
            width: 40px;
            height: 40px;
            background: var(--wb-gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--wb-blue);
            font-size: 1.25rem;
        }

        .header-logo-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--wb-blue);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: var(--wb-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .user-name {
            font-weight: 500;
            color: var(--text-primary);
        }

        .logout-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        .logout-btn:hover {
            background: var(--bg-light);
            color: var(--text-primary);
        }

        /* Navigation Styles */
        .app-nav {
            background: white;
            border-bottom: 1px solid var(--border-color);
            padding: 0;
        }

        .nav-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
        }

        .nav-item {
            flex: 1;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border-bottom: 3px solid transparent;
            color: var(--text-secondary);
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .nav-item:hover {
            background: var(--bg-light);
            color: var(--text-primary);
        }

        .nav-item.active {
            color: var(--wb-blue);
            border-bottom-color: var(--wb-blue);
            background: var(--wb-light-blue);
        }

        .nav-item i {
            font-size: 1.1rem;
        }

        /* Main Content Styles */
        .app-main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* Dashboard Styles */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border-left: 4px solid var(--wb-gold);
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .stat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .stat-title {
            font-size: 0.95rem;
            font-weight: 500;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            background: var(--wb-light-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--wb-blue);
            font-size: 1.25rem;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--wb-blue);
            margin-bottom: 0.5rem;
        }

        .stat-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Swipe Container Styles */
        .swipe-container {
            max-width: 400px;
            margin: 0 auto;
            position: relative;
            height: 600px;
            perspective: 1000px;
        }

        .property-card {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            cursor: grab;
            transition: transform 0.3s ease-out;
            overflow: hidden;
            user-select: none;
        }

        .property-card:active {
            cursor: grabbing;
        }

        .property-card.dragging {
            transition: none;
            z-index: 10;
        }

        .property-card.swiped-right {
            transform: translateX(100%) rotate(20deg);
            opacity: 0;
        }

        .property-card.swiped-left {
            transform: translateX(-100%) rotate(-20deg);
            opacity: 0;
        }

        .property-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: var(--border-radius) var(--border-radius) 0 0;
        }

        .property-content {
            padding: 1.5rem;
        }

        .property-price {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--wb-blue);
            margin-bottom: 0.5rem;
        }

        .property-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .property-location {
            color: var(--text-secondary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .property-features {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .feature {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .property-description {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
        }

        .action-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: var(--shadow);
        }

        .action-btn:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-lg);
        }

        .reject-btn {
            background: #FED7D7;
            color: var(--error);
        }

        .super-like-btn {
            background: #BEE3F8;
            color: #3182CE;
        }

        .like-btn {
            background: #C6F6D5;
            color: var(--success);
        }

        /* Filters */
        .filters {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 0.75rem 1.5rem;
            border: 2px solid var(--border-color);
            background: white;
            border-radius: 25px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .filter-btn.active {
            background: var(--wb-blue);
            color: white;
            border-color: var(--wb-blue);
        }

        .filter-btn:hover {
            border-color: var(--wb-blue);
        }

        /* Matches Section */
        .matches-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }

        .match-card {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .match-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .match-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .match-content {
            padding: 1.5rem;
        }

        .match-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--wb-blue);
            margin-bottom: 0.5rem;
        }

        .match-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .match-location {
            color: var(--text-secondary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .match-features {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .contact-btn {
            width: 100%;
            background: var(--wb-gold);
            color: var(--wb-blue);
            padding: 0.75rem;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .contact-btn:hover {
            background: #B8860B;
        }

        /* Profile Section */
        .profile-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            background: var(--wb-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            font-weight: 700;
        }

        .profile-info h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .profile-info p {
            color: var(--text-secondary);
        }

        .profile-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .detail-icon {
            width: 40px;
            height: 40px;
            background: var(--wb-light-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--wb-blue);
        }

        .detail-content h4 {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .detail-content p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Property Form */
        .property-form {
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow);
        }

        .form-section {
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--wb-blue);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Toast Notifications */
        .toast {
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: white;
            border-radius: var(--border-radius);
            padding: 1rem 1.5rem;
            box-shadow: var(--shadow-lg);
            z-index: 1001;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            transform: translateX(400px);
            transition: var(--transition);
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.success {
            border-left: 4px solid var(--success);
        }

        .toast.error {
            border-left: 4px solid var(--error);
        }

        .toast.warning {
            border-left: 4px solid var(--warning);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .nav-content {
                flex-wrap: wrap;
            }

            .nav-item {
                flex: 1;
                min-width: 120px;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .swipe-container {
                height: 500px;
            }

            .property-image {
                height: 250px;
            }

            .matches-grid {
                grid-template-columns: 1fr;
            }

            .profile-header {
                flex-direction: column;
                text-align: center;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--text-secondary);
        }

        .empty-state i {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: var(--border-color);
        }

        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .empty-state p {
            font-size: 1rem;
            max-width: 400px;
            margin: 0 auto;
        }

        /* Loading States */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--border-color);
            border-top: 4px solid var(--wb-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Landing Page -->
    <div id="landingPage" class="landing-page">
        <div class="landing-container">
            <div class="logo-container">
                <div class="logo">
                    <i class="fas fa-home"></i>
                </div>
                <h1 class="hero-title">iFinder</h1>
                <p class="hero-subtitle">
                    A forma mais inteligente de encontrar seu imóvel ideal. 
                    Sistema de matching avançado para compra, venda e locação.
                </p>
                <button class="cta-button" onclick="showAuthModal('login')">
                    <i class="fas fa-rocket"></i> Começar Agora
                </button>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3 class="feature-title">Sistema de Match</h3>
                    <p class="feature-description">
                        Algoritmo inteligente que encontra imóveis perfeitos para seu perfil
                    </p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h3 class="feature-title">Interface Intuitiva</h3>
                    <p class="feature-description">
                        Navegue pelos imóveis com gestos simples, como em redes sociais
                    </p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3 class="feature-title">Seguro e Confiável</h3>
                    <p class="feature-description">
                        Todos os imóveis são verificados e os proprietários autenticados
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeAuthModal()">
                <i class="fas fa-times"></i>
            </button>
            
            <!-- Login Form -->
            <div id="loginForm" class="auth-form">
                <div class="modal-header">
                    <h2 class="modal-title">Entrar no iFinder</h2>
                    <p class="modal-subtitle">Acesse sua conta para continuar</p>
                </div>
                
                <form onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="loginEmail" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Senha</label>
                        <input type="password" class="form-input" id="loginPassword" required>
                    </div>
                    
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-sign-in-alt"></i> Entrar
                    </button>
                </form>
                
                <button class="btn-secondary" onclick="showAuthModal('register')">
                    Não tem conta? Cadastre-se
                </button>
            </div>
            
            <!-- Register Form -->
            <div id="registerForm" class="auth-form" style="display: none;">
                <div class="modal-header">
                    <h2 class="modal-title">Criar Conta</h2>
                    <p class="modal-subtitle">Cadastre-se para começar a usar o iFinder</p>
                </div>
                
                <form onsubmit="handleRegister(event)">
                    <div class="form-group">
                        <label class="form-label">Nome Completo</label>
                        <input type="text" class="form-input" id="registerName" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="registerEmail" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Telefone</label>
                        <input type="tel" class="form-input" id="registerPhone" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">CPF</label>
                        <input type="text" class="form-input" id="registerCPF" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Tipo de Usuário</label>
                        <select class="form-select" id="registerUserType" required>
                            <option value="">Selecione...</option>
                            <option value="interessado">Interessado(a) - Busco imóveis</option>
                            <option value="proprietario">Proprietário(a) - Tenho imóveis</option>
                            <option value="corretor">Corretor(a) - Trabalho com vendas</option>
                            <option value="captador">Captador(a) - Busco oportunidades</option>
                            <option value="outros">Outros - Profissional do setor</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Senha</label>
                        <input type="password" class="form-input" id="registerPassword" required>
                    </div>
                    
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-user-plus"></i> Criar Conta
                    </button>
                </form>
                
                <button class="btn-secondary" onclick="showAuthModal('login')">
                    Já tem conta? Faça login
                </button>
            </div>
        </div>
    </div>

    <!-- App Container -->
    <div id="appContainer" class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="header-logo">
                    <div class="header-logo-icon">
                        <i class="fas fa-home"></i>
                    </div>
                    <span class="header-logo-text">iFinder</span>
                </div>
                
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">U</div>
                    <span class="user-name" id="userName">Usuário</span>
                    <button class="logout-btn" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="app-nav">
            <div class="nav-content">
                <div class="nav-item active" onclick="showSection('dashboard')">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Início</span>
                </div>
                <div class="nav-item" onclick="showSection('search')">
                    <i class="fas fa-search"></i>
                    <span>Buscar</span>
                </div>
                <div class="nav-item" onclick="showSection('matches')">
                    <i class="fas fa-heart"></i>
                    <span>Matches</span>
                </div>
                <div class="nav-item" id="cadastrarNav" onclick="showSection('cadastrar')" style="display: none;">
                    <i class="fas fa-plus"></i>
                    <span>Cadastrar</span>
                </div>
                <div class="nav-item" onclick="showSection('profile')">
                    <i class="fas fa-user"></i>
                    <span>Perfil</span>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="app-main">
            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <div class="dashboard-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Imóveis Vistos</span>
                            <div class="stat-icon">
                                <i class="fas fa-eye"></i>
                            </div>
                        </div>
                        <div class="stat-value" id="viewedCount">0</div>
                        <div class="stat-description">Total de imóveis visualizados</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Matches</span>
                            <div class="stat-icon">
                                <i class="fas fa-heart"></i>
                            </div>
                        </div>
                        <div class="stat-value" id="matchCount">0</div>
                        <div class="stat-description">Imóveis que você curtiu</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Visitas Agendadas</span>
                            <div class="stat-icon">
                                <i class="fas fa-calendar"></i>
                            </div>
                        </div>
                        <div class="stat-value">3</div>
                        <div class="stat-description">Próximas visitas marcadas</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Economia</span>
                            <div class="stat-icon">
                                <i class="fas fa-piggy-bank"></i>
                            </div>
                        </div>
                        <div class="stat-value">R$ 15k</div>
                        <div class="stat-description">Economizado em comissões</div>
                    </div>
                </div>
                
                <div class="profile-card">
                    <h3 style="margin-bottom: 1rem; color: var(--wb-blue);">
                        <i class="fas fa-chart-line"></i> Atividade Recente
                    </h3>
                    <p style="color: var(--text-secondary);">
                        Bem-vindo ao iFinder! Comece explorando imóveis na seção "Buscar" 
                        para encontrar sua propriedade ideal.
                    </p>
                </div>
            </section>

            <!-- Search Section -->
            <section id="search" class="section">
                <div class="filters">
                    <button class="filter-btn active" onclick="filterProperties('todos')">
                        <i class="fas fa-th"></i> Todos
                    </button>
                    <button class="filter-btn" onclick="filterProperties('casa')">
                        <i class="fas fa-home"></i> Casas
                    </button>
                    <button class="filter-btn" onclick="filterProperties('apartamento')">
                        <i class="fas fa-building"></i> Apartamentos
                    </button>
                    <button class="filter-btn" onclick="filterProperties('comercial')">
                        <i class="fas fa-store"></i> Comercial
                    </button>
                </div>

                <div class="swipe-container" id="swipeContainer">
                    <!-- Property cards will be dynamically inserted here -->
                </div>

                <div class="action-buttons">
                    <button class="action-btn reject-btn" onclick="rejectProperty()">
                        <i class="fas fa-times"></i>
                    </button>
                    <button class="action-btn super-like-btn" onclick="superLikeProperty()">
                        <i class="fas fa-star"></i>
                    </button>
                    <button class="action-btn like-btn" onclick="likeProperty()">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
            </section>

            <!-- Matches Section -->
            <section id="matches" class="section">
                <h2 style="margin-bottom: 2rem; color: var(--wb-blue);">
                    <i class="fas fa-heart"></i> Seus Matches
                </h2>
                <div class="matches-grid" id="matchesGrid">
                    <!-- Matches will be dynamically inserted here -->
                </div>
            </section>

            <!-- Cadastrar Section -->
            <section id="cadastrar" class="section">
                <div class="property-form">
                    <h2 style="margin-bottom: 2rem; color: var(--wb-blue);">
                        <i class="fas fa-plus"></i> Cadastrar Imóvel
                    </h2>
                    
                    <form onsubmit="handlePropertySubmit(event)">
                        <div class="form-section">
                            <h3 class="section-title">
                                <i class="fas fa-info-circle"></i> Informações Básicas
                            </h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Título do Anúncio</label>
                                    <input type="text" class="form-input" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Tipo de Imóvel</label>
                                    <select class="form-select" required>
                                        <option value="">Selecione...</option>
                                        <option value="casa">Casa</option>
                                        <option value="apartamento">Apartamento</option>
                                        <option value="comercial">Comercial</option>
                                        <option value="terreno">Terreno</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Finalidade</label>
                                    <select class="form-select" required>
                                        <option value="">Selecione...</option>
                                        <option value="venda">Venda</option>
                                        <option value="locacao">Locação</option>
                                        <option value="ambos">Venda e Locação</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3 class="section-title">
                                <i class="fas fa-map-marker-alt"></i> Localização
                            </h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">CEP</label>
                                    <input type="text" class="form-input" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Estado</label>
                                    <select class="form-select" required>
                                        <option value="">Selecione...</option>
                                        <option value="SP">São Paulo</option>
                                        <option value="RJ">Rio de Janeiro</option>
                                        <option value="MG">Minas Gerais</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Cidade</label>
                                    <input type="text" class="form-input" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Bairro</label>
                                    <input type="text" class="form-input" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3 class="section-title">
                                <i class="fas fa-ruler-combined"></i> Características
                            </h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Quartos</label>
                                    <select class="form-select">
                                        <option value="">Selecione...</option>
                                        <option value="1">1 quarto</option>
                                        <option value="2">2 quartos</option>
                                        <option value="3">3 quartos</option>
                                        <option value="4">4+ quartos</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Banheiros</label>
                                    <select class="form-select">
                                        <option value="">Selecione...</option>
                                        <option value="1">1 banheiro</option>
                                        <option value="2">2 banheiros</option>
                                        <option value="3">3 banheiros</option>
                                        <option value="4">4+ banheiros</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Área (m²)</label>
                                    <input type="number" class="form-input" min="1">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Vagas de Garagem</label>
                                    <select class="form-select">
                                        <option value="">Selecione...</option>
                                        <option value="0">Sem garagem</option>
                                        <option value="1">1 vaga</option>
                                        <option value="2">2 vagas</option>
                                        <option value="3">3+ vagas</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3 class="section-title">
                                <i class="fas fa-dollar-sign"></i> Valores
                            </h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Preço</label>
                                    <input type="text" class="form-input" placeholder="R$ 0,00" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Condomínio</label>
                                    <input type="text" class="form-input" placeholder="R$ 0,00">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">IPTU</label>
                                    <input type="text" class="form-input" placeholder="R$ 0,00">
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="btn-primary">
                            <i class="fas fa-save"></i> Cadastrar Imóvel
                        </button>
                    </form>
                </div>
            </section>

            <!-- Profile Section -->
            <section id="profile" class="section">
                <div class="profile-card">
                    <div class="profile-header">
                        <div class="profile-avatar" id="profileAvatar">U</div>
                        <div class="profile-info">
                            <h2 id="profileName">Nome do Usuário</h2>
                            <p id="profileType">Tipo de usuário</p>
                        </div>
                    </div>
                    
                    <div class="profile-details">
                        <div class="detail-item">
                            <div class="detail-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="detail-content">
                                <h4>Email</h4>
                                <p id="profileEmail">email@exemplo.com</p>
                            </div>
                        </div>
                        
                        <div class="detail-item">
                            <div class="detail-icon">
                                <i class="fas fa-phone"></i>
                            </div>
                            <div class="detail-content">
                                <h4>Telefone</h4>
                                <p id="profilePhone">(11) 99999-9999</p>
                            </div>
                        </div>
                        
                        <div class="detail-item">
                            <div class="detail-icon">
                                <i class="fas fa-id-card"></i>
                            </div>
                            <div class="detail-content">
                                <h4>CPF</h4>
                                <p id="profileCPF">***.***.***-**</p>
                            </div>
                        </div>
                        
                        <div class="detail-item">
                            <div class="detail-icon">
                                <i class="fas fa-calendar"></i>
                            </div>
                            <div class="detail-content">
                                <h4>Membro desde</h4>
                                <p id="profileSince">Janeiro 2024</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Match Modal -->
    <div id="matchModal" class="modal">
        <div class="modal-content" style="text-align: center; max-width: 400px;">
            <h2 style="color: var(--success); margin-bottom: 1rem;">
                <i class="fas fa-heart" style="font-size: 3rem; margin-bottom: 1rem; display: block;"></i>
                É um Match!
            </h2>
            <p style="margin-bottom: 2rem; color: var(--text-secondary);">
                Você curtiu este imóvel! Ele foi adicionado aos seus matches.
            </p>
            <button class="btn-primary" onclick="closeMatchModal()">
                <i class="fas fa-check"></i> Continuar Buscando
            </button>
        </div>
    </div>

    <script>
        // Global Variables
        let currentUser = null;
        let currentPropertyIndex = 0;
        let properties = [];
        let matches = [];
        let viewedProperties = [];
        let isDragging = false;
        let startX = 0;
        let startY = 0;
        let currentX = 0;
        let currentY = 0;

        // Property Data
        const propertyData = [
            {
                id: 1,
                title: "Casa Moderna em Condomínio",
                price: "R$ 850.000",
                location: "Alphaville, Barueri - SP",
                type: "casa",
                bedrooms: 3,
                bathrooms: 2,
                area: 180,
                image: "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=400&h=300&fit=crop",
                description: "Linda casa em condomínio fechado com área de lazer completa."
            },
            {
                id: 2,
                title: "Apartamento com Vista para o Mar",
                price: "R$ 1.200.000",
                location: "Copacabana, Rio de Janeiro - RJ",
                type: "apartamento",
                bedrooms: 2,
                bathrooms: 2,
                area: 95,
                image: "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=400&h=300&fit=crop",
                description: "Apartamento com vista deslumbrante para a praia de Copacabana."
            },
            {
                id: 3,
                title: "Loja Comercial no Centro",
                price: "R$ 450.000",
                location: "Centro, São Paulo - SP",
                type: "comercial",
                bedrooms: 0,
                bathrooms: 1,
                area: 120,
                image: "https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop",
                description: "Excelente ponto comercial em região de grande movimento."
            },
            {
                id: 4,
                title: "Cobertura Duplex Luxuosa",
                price: "R$ 2.500.000",
                location: "Leblon, Rio de Janeiro - RJ",
                type: "apartamento",
                bedrooms: 4,
                bathrooms: 3,
                area: 250,
                image: "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=400&h=300&fit=crop",
                description: "Cobertura duplex com terraço e vista panorâmica da cidade."
            },
            {
                id: 5,
                title: "Casa de Campo Aconchegante",
                price: "R$ 680.000",
                location: "Campos do Jordão - SP",
                type: "casa",
                bedrooms: 3,
                bathrooms: 2,
                area: 200,
                image: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=400&h=300&fit=crop",
                description: "Casa de campo perfeita para relaxar nos fins de semana."
            },
            {
                id: 6,
                title: "Apartamento Studio Moderno",
                price: "R$ 320.000",
                location: "Vila Madalena, São Paulo - SP",
                type: "apartamento",
                bedrooms: 1,
                bathrooms: 1,
                area: 45,
                image: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=400&h=300&fit=crop",
                description: "Studio moderno em bairro boêmio com ótima localização."
            },
            {
                id: 7,
                title: "Sobrado Familiar Espaçoso",
                price: "R$ 950.000",
                location: "Moema, São Paulo - SP",
                type: "casa",
                bedrooms: 4,
                bathrooms: 3,
                area: 280,
                image: "https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=400&h=300&fit=crop",
                description: "Sobrado espaçoso ideal para famílias grandes."
            },
            {
                id: 8,
                title: "Loft Industrial Charmoso",
                price: "R$ 750.000",
                location: "Vila Olímpia, São Paulo - SP",
                type: "apartamento",
                bedrooms: 2,
                bathrooms: 1,
                area: 110,
                image: "https://images.unsplash.com/photo-1600607687644-c7171b42498b?w=400&h=300&fit=crop",
                description: "Loft com design industrial em região corporativa."
            }
        ];

        // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            // Check if user is logged in
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                showApp();
            } else {
                showLandingPage();
            }

            // Load saved data
            loadSavedData();
            
            // Initialize properties
            properties = [...propertyData];
            
            // Setup swipe functionality
            setupSwipeContainer();
        }

        function loadSavedData() {
            const savedMatches = localStorage.getItem('matches');
            const savedViewed = localStorage.getItem('viewedProperties');
            
            if (savedMatches) {
                matches = JSON.parse(savedMatches);
            }
            
            if (savedViewed) {
                viewedProperties = JSON.parse(savedViewed);
            }
        }

        function saveData() {
            localStorage.setItem('matches', JSON.stringify(matches));
            localStorage.setItem('viewedProperties', JSON.stringify(viewedProperties));
        }

        // Auth Functions
        function showAuthModal(type) {
            const modal = document.getElementById('authModal');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            
            if (type === 'login') {
                loginForm.style.display = 'block';
                registerForm.style.display = 'none';
            } else {
                loginForm.style.display = 'none';
                registerForm.style.display = 'block';
            }
            
            modal.classList.add('active');
        }

        function closeAuthModal() {
            document.getElementById('authModal').classList.remove('active');
        }

        function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Get users from localStorage
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                closeAuthModal();
                showApp();
                showToast('Login realizado com sucesso!', 'success');
            } else {
                showToast('Email ou senha incorretos!', 'error');
            }
        }

        function handleRegister(event) {
            event.preventDefault();
            
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const phone = document.getElementById('registerPhone').value;
            const cpf = document.getElementById('registerCPF').value;
            const userType = document.getElementById('registerUserType').value;
            const password = document.getElementById('registerPassword').value;
            
            // Validate CPF
            if (!validateCPF(cpf)) {
                showToast('CPF inválido!', 'error');
                return;
            }
            
            // Get existing users
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            
            // Check if email already exists
            if (users.find(u => u.email === email)) {
                showToast('Este email já está cadastrado!', 'error');
                return;
            }
            
            // Create new user
            const newUser = {
                id: Date.now(),
                name,
                email,
                phone: formatPhone(phone),
                cpf: formatCPF(cpf),
                userType,
                password,
                createdAt: new Date().toISOString()
            };
            
            // Save user
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            // Auto login
            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            
            closeAuthModal();
            showApp();
            showToast('Conta criada com sucesso!', 'success');
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            showLandingPage();
            showToast('Logout realizado com sucesso!', 'success');
        }

        // App Display Functions
        function showLandingPage() {
            document.getElementById('landingPage').style.display = 'flex';
            document.getElementById('appContainer').classList.remove('active');
        }

        function showApp() {
            document.getElementById('landingPage').style.display = 'none';
            document.getElementById('appContainer').classList.add('active');
            
            // Update user info in header
            updateUserInfo();
            
            // Show/hide cadastrar nav based on user type
            updateNavigation();
            
            // Load current property
            loadCurrentProperty();
            
            // Update dashboard stats
            updateDashboardStats();
            
            // Load matches
            loadMatches();
        }

        function updateUserInfo() {
            if (!currentUser) return;
            
            const userName = document.getElementById('userName');
            const userAvatar = document.getElementById('userAvatar');
            const profileName = document.getElementById('profileName');
            const profileType = document.getElementById('profileType');
            const profileEmail = document.getElementById('profileEmail');
            const profilePhone = document.getElementById('profilePhone');
            const profileCPF = document.getElementById('profileCPF');
            const profileAvatar = document.getElementById('profileAvatar');
            
            const initials = currentUser.name.split(' ').map(n => n[0]).join('').toUpperCase();
            
            userName.textContent = currentUser.name.split(' ')[0];
            userAvatar.textContent = initials;
            profileName.textContent = currentUser.name;
            profileType.textContent = getUserTypeLabel(currentUser.userType);
            profileEmail.textContent = currentUser.email;
            profilePhone.textContent = currentUser.phone;
            profileCPF.textContent = maskCPF(currentUser.cpf);
            profileAvatar.textContent = initials;
        }

        function updateNavigation() {
            const cadastrarNav = document.getElementById('cadastrarNav');
            
            // Show cadastrar nav for proprietarios, corretores, and captadores
            if (currentUser && ['proprietario', 'corretor', 'captador'].includes(currentUser.userType)) {
                cadastrarNav.style.display = 'flex';
            } else {
                cadastrarNav.style.display = 'none';
            }
        }

        function getUserTypeLabel(type) {
            const labels = {
                'interessado': 'Interessado(a)',
                'proprietario': 'Proprietário(a)',
                'corretor': 'Corretor(a)',
                'captador': 'Captador(a)',
                'outros': 'Outros'
            };
            return labels[type] || type;
        }

        // Navigation Functions
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Add active class to clicked nav item
            event.target.closest('.nav-item').classList.add('active');
            
            // Load section-specific content
            if (sectionId === 'search') {
                loadCurrentProperty();
            } else if (sectionId === 'matches') {
                loadMatches();
            }
        }

        // Property Functions
        function setupSwipeContainer() {
            const container = document.getElementById('swipeContainer');
            
            container.addEventListener('mousedown', handleStart);
            container.addEventListener('mousemove', handleMove);
            container.addEventListener('mouseup', handleEnd);
            container.addEventListener('mouseleave', handleEnd);
            
            // Touch events for mobile
            container.addEventListener('touchstart', handleStart);
            container.addEventListener('touchmove', handleMove);
            container.addEventListener('touchend', handleEnd);
        }

        function handleStart(e) {
            const card = document.querySelector('.property-card:last-child');
            if (!card) return;
            
            isDragging = true;
            card.classList.add('dragging');
            
            const clientX = e.clientX || e.touches[0].clientX;
            const clientY = e.clientY || e.touches[0].clientY;
            
            startX = clientX;
            startY = clientY;
            currentX = clientX;
            currentY = clientY;
        }

        function handleMove(e) {
            if (!isDragging) return;
            
            e.preventDefault();
            
            const card = document.querySelector('.property-card:last-child');
            if (!card) return;
            
            const clientX = e.clientX || e.touches[0].clientX;
            const clientY = e.clientY || e.touches[0].clientY;
            
            currentX = clientX;
            currentY = clientY;
            
            const deltaX = currentX - startX;
            const deltaY = currentY - startY;
            const rotation = deltaX * 0.1;
            
            card.style.transform = `translate(${deltaX}px, ${deltaY}px) rotate(${rotation}deg)`;
            card.style.opacity = 1 - Math.abs(deltaX) / 300;
        }

        function handleEnd(e) {
            if (!isDragging) return;
            
            isDragging = false;
            
            const card = document.querySelector('.property-card:last-child');
            if (!card) return;
            
            card.classList.remove('dragging');
            
            const deltaX = currentX - startX;
            const threshold = 100;
            
            if (Math.abs(deltaX) > threshold) {
                if (deltaX > 0) {
                    // Swiped right - like
                    likeProperty();
                } else {
                    // Swiped left - reject
                    rejectProperty();
                }
            } else {
                // Snap back
                card.style.transform = '';
                card.style.opacity = '';
            }
        }

        function loadCurrentProperty() {
            const container = document.getElementById('swipeContainer');
            
            // Clear container
            container.innerHTML = '';
            
            // Get available properties (not viewed yet)
            const availableProperties = properties.filter(p => 
                !viewedProperties.includes(p.id)
            );
            
            if (availableProperties.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-heart"></i>
                        <h3>Você viu todos os imóveis!</h3>
                        <p>Novos imóveis serão adicionados em breve. Que tal revisar seus matches?</p>
                    </div>
                `;
                return;
            }
            
            // Show next 3 properties (for stacking effect)
            const propertiesToShow = availableProperties.slice(0, 3);
            
            propertiesToShow.reverse().forEach((property, index) => {
                const card = createPropertyCard(property);
                card.style.zIndex = index;
                card.style.transform = `scale(${1 - index * 0.02}) translateY(${index * 4}px)`;
                container.appendChild(card);
            });
        }

        function createPropertyCard(property) {
            const card = document.createElement('div');
            card.className = 'property-card';
            card.dataset.propertyId = property.id;
            
            card.innerHTML = `
                <img src="${property.image}" alt="${property.title}" class="property-image" 
                     onerror="this.src='https://via.placeholder.com/400x300/00214D/DAA520?text=Imóvel'">
                <div class="property-content">
                    <div class="property-price">${property.price}</div>
                    <h3 class="property-title">${property.title}</h3>
                    <div class="property-location">
                        <i class="fas fa-map-marker-alt"></i>
                        ${property.location}
                    </div>
                    <div class="property-features">
                        ${property.bedrooms > 0 ? `
                            <div class="feature">
                                <i class="fas fa-bed"></i>
                                ${property.bedrooms}
                            </div>
                        ` : ''}
                        ${property.bathrooms > 0 ? `
                            <div class="feature">
                                <i class="fas fa-bath"></i>
                                ${property.bathrooms}
                            </div>
                        ` : ''}
                        <div class="feature">
                            <i class="fas fa-ruler-combined"></i>
                            ${property.area}m²
                        </div>
                    </div>
                    <p class="property-description">${property.description}</p>
                </div>
            `;
            
            return card;
        }

        function likeProperty() {
            const card = document.querySelector('.property-card:last-child');
            if (!card) return;
            
            const propertyId = parseInt(card.dataset.propertyId);
            const property = properties.find(p => p.id === propertyId);
            
            if (property) {
                // Add to matches
                if (!matches.find(m => m.id === propertyId)) {
                    matches.push(property);
                }
                
                // Add to viewed
                if (!viewedProperties.includes(propertyId)) {
                    viewedProperties.push(propertyId);
                }
                
                // Save data
                saveData();
                
                // Show match modal
                showMatchModal();
                
                // Update stats
                updateDashboardStats();
            }
            
            // Animate card out
            card.classList.add('swiped-right');
            
            // Load next property after animation
            setTimeout(() => {
                loadCurrentProperty();
            }, 300);
        }

        function rejectProperty() {
            const card = document.querySelector('.property-card:last-child');
            if (!card) return;
            
            const propertyId = parseInt(card.dataset.propertyId);
            
            // Add to viewed
            if (!viewedProperties.includes(propertyId)) {
                viewedProperties.push(propertyId);
            }
            
            // Save data
            saveData();
            
            // Update stats
            updateDashboardStats();
            
            // Animate card out
            card.classList.add('swiped-left');
            
            // Load next property after animation
            setTimeout(() => {
                loadCurrentProperty();
            }, 300);
        }

        function superLikeProperty() {
            // For now, same as like but could have special behavior
            likeProperty();
        }

        function filterProperties(type) {
            // Update filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Filter properties (for now, just reload - could implement actual filtering)
            loadCurrentProperty();
        }

        // Match Functions
        function showMatchModal() {
            document.getElementById('matchModal').classList.add('active');
        }

        function closeMatchModal() {
            document.getElementById('matchModal').classList.remove('active');
        }

        function loadMatches() {
            const grid = document.getElementById('matchesGrid');
            
            if (matches.length === 0) {
                grid.innerHTML = `
                    <div class="empty-state" style="grid-column: 1 / -1;">
                        <i class="fas fa-heart"></i>
                        <h3>Nenhum match ainda</h3>
                        <p>Comece a curtir imóveis na seção "Buscar" para ver seus matches aqui!</p>
                    </div>
                `;
                return;
            }
            
            grid.innerHTML = matches.map(property => `
                <div class="match-card">
                    <img src="${property.image}" alt="${property.title}" class="match-image"
                         onerror="this.src='https://via.placeholder.com/300x200/00214D/DAA520?text=Imóvel'">
                    <div class="match-content">
                        <div class="match-price">${property.price}</div>
                        <h3 class="match-title">${property.title}</h3>
                        <div class="match-location">
                            <i class="fas fa-map-marker-alt"></i>
                            ${property.location}
                        </div>
                        <div class="match-features">
                            ${property.bedrooms > 0 ? `
                                <div class="feature">
                                    <i class="fas fa-bed"></i>
                                    ${property.bedrooms}
                                </div>
                            ` : ''}
                            ${property.bathrooms > 0 ? `
                                <div class="feature">
                                    <i class="fas fa-bath"></i>
                                    ${property.bathrooms}
                                </div>
                            ` : ''}
                            <div class="feature">
                                <i class="fas fa-ruler-combined"></i>
                                ${property.area}m²
                            </div>
                        </div>
                        <button class="contact-btn" onclick="contactProperty(${property.id})">
                            <i class="fas fa-phone"></i> Entrar em Contato
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function contactProperty(propertyId) {
            showToast('Funcionalidade de contato será implementada em breve!', 'warning');
        }

        // Dashboard Functions
        function updateDashboardStats() {
            document.getElementById('viewedCount').textContent = viewedProperties.length;
            document.getElementById('matchCount').textContent = matches.length;
        }

        // Property Form Functions
        function handlePropertySubmit(event) {
            event.preventDefault();
            showToast('Imóvel cadastrado com sucesso!', 'success');
            event.target.reset();
        }

        // Utility Functions
        function validateCPF(cpf) {
            cpf = cpf.replace(/[^\d]/g, '');
            
            if (cpf.length !== 11 || /^(\d)\1{10}$/.test(cpf)) {
                return false;
            }
            
            let sum = 0;
            for (let i = 0; i < 9; i++) {
                sum += parseInt(cpf.charAt(i)) * (10 - i);
            }
            let remainder = 11 - (sum % 11);
            if (remainder === 10 || remainder === 11) remainder = 0;
            if (remainder !== parseInt(cpf.charAt(9))) return false;
            
            sum = 0;
            for (let i = 0; i < 10; i++) {
                sum += parseInt(cpf.charAt(i)) * (11 - i);
            }
            remainder = 11 - (sum % 11);
            if (remainder === 10 || remainder === 11) remainder = 0;
            if (remainder !== parseInt(cpf.charAt(10))) return false;
            
            return true;
        }

        function formatCPF(cpf) {
            cpf = cpf.replace(/[^\d]/g, '');
            return cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4');
        }

        function maskCPF(cpf) {
            return cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '***.$2.***-**');
        }

        function formatPhone(phone) {
            phone = phone.replace(/[^\d]/g, '');
            if (phone.length === 11) {
                return phone.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');
            } else if (phone.length === 10) {
                return phone.replace(/(\d{2})(\d{4})(\d{4})/, '($1) $2-$3');
            }
            return phone;
        }

        function showToast(message, type = 'success') {
            // Remove existing toast
            const existingToast = document.querySelector('.toast');
            if (existingToast) {
                existingToast.remove();
            }
            
            // Create new toast
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            
            const icon = type === 'success' ? 'check-circle' : 
                        type === 'error' ? 'exclamation-circle' : 
                        'exclamation-triangle';
            
            toast.innerHTML = `
                <i class="fas fa-${icon}"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(toast);
            
            // Show toast
            setTimeout(() => toast.classList.add('show'), 100);
            
            // Hide toast
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Auto-format inputs
        document.addEventListener('input', function(e) {
            if (e.target.id === 'registerPhone') {
                e.target.value = formatPhone(e.target.value);
            } else if (e.target.id === 'registerCPF') {
                e.target.value = formatCPF(e.target.value);
            }
        });

        // Close modals when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('active');
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('appContainer').classList.contains('active')) {
                if (e.key === 'ArrowLeft') {
                    rejectProperty();
                } else if (e.key === 'ArrowRight') {
                    likeProperty();
                } else if (e.key === 'ArrowUp') {
                    superLikeProperty();
                }
            }
        });
    </script>
</body>
</html>

